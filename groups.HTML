<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Groups</title>
<style>
body {
  margin: 0;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  background: #FFD109;
  font-family: "Segoe UI", Tahoma, Arial, "Noto Sans Arabic", sans-serif;
  position: relative;
}

/* رابط الكالكوليتر فوق على اليمين */
#calculatorLink {
  position: absolute;
  top: 10px;
  right: 10px;
  background: #0ea5a4;
  color: white;
  padding: 8px 14px;
  border-radius: 6px;
  text-decoration: none;
  font-weight: bold;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  transition: 0.3s;
}

#calculatorLink:hover {
  background: #047857;
}

.stage {
  position: relative;
  width: 700px;
  height: 700px;
  border-radius: 50%;
}

.center {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 220px;
  height: 200px;
  border-radius: 50%;
  background: #ffffff;
  border: 6px solid black;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  padding: 10px;
  gap: 8px;
  box-sizing: border-box;
  overflow: visible;
  z-index: 1;
}

/* خط صغير متحرك حول الدائرة */
.center::after {
  content: "";
  position: absolute;
  top: -6px; left: -6px;
  width: calc(100% + 12px);
  height: calc(100% + 12px);
  border-radius: 50%;
  border: 4px solid transparent;
  box-sizing: border-box;
  z-index: 2;
  clip-path: polygon(50% 0%, 52% 0%, 52% 2%, 50% 2%);
}

.center.typing::after {
  border-image: conic-gradient(red, orange, yellow, green, blue, violet, red) 1;
  animation: rotateStroke 2s linear infinite;
}

@keyframes rotateStroke {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.center input,
.center select {
  width: 90%;
  padding: 6px;
  border: 2px solid #0ea5a4;
  border-radius: 6px;
  font-size: 16px;
  text-align: center;
  color: #0ea5a4;
  font-weight: bold;
  outline: none;
  transition: 0.3s;
}

.group {
  position: absolute;
  width: 110px;
  height: 110px;
  border-radius: 50%;
  background: white;
  border: 3px solid black;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  display: flex;
  justify-content: center;
  align-items: center;
  font-weight: bold;
  color: black;
  transform: translate(-50%, -50%);
  transition: 0.3s;
}

.group.active {
  background: #047857;
  border-color: #047857;
  color: white;
  transform: translate(-50%, -50%) scale(1.15);
  z-index: 2;
}

.details {
  position: absolute;
  top: 50%;
  left: -240px;
  transform: translateY(-50%);
  background: white;
  border: 2px solid #0ea5a4;
  border-radius: 10px;
  padding: 15px;
  width: 200px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.1);
  display: none;
  text-align: right;
  direction: rtl;
  font-size: 14px;
  line-height: 1.6;
}

.details.show {
  display: block;
}

.details strong {
  display: block;
  font-size: 16px;
  color: #0ea5a4;
  margin-bottom: 8px;
  text-align: center;
}
</style>
</head>
<body>

<!-- رابط CALCULATOR فوق على اليمين -->
<a href="index.html" id="calculatorLink">CALCULATOR</a>

<div class="stage" id="stage">
  <div class="center" id="centerCircle">
    <input type="text" id="areaInput" placeholder="Area Name">
    <select id="citySelect">
      <option value="amman">Amman</option>
      <option value="zarqa">Zarqa</option>
      <option value="irbid">Irbid</option>
    </select>
  </div>
</div>

<div class="details" id="detailsBox"></div>

<script>
const stage = document.getElementById('stage');
const centerX = 350;
const centerY = 350;
const radius = 260;
const detailsBox = document.getElementById("detailsBox");
const areaInput = document.getElementById("areaInput");
const citySelect = document.getElementById("citySelect");
const centerCircle = document.getElementById("centerCircle");

const data = {
  amman: {
    1: ["شفا بدران","أبو نصير","الجبيهة","صويلح"],
    2: ["طبربور","الهاشمي الشمالي والجنوبي","ماركا","القويسمة"],
    3: ["وسط البلد","جبل الحسين","العبدلي","الشميساني"],
    4: ["خلدا","تلاع العلي","أم السماق","الرابية","الصالحين"],
    5: ["البيادر","الجندويل","دابوق","الكرسي"],
    6: ["عبدون","دير غبار","الدوار السابع","الصويفية","ام اذينه"],
    7: ["مرج الحمام","خريبة السوق","المقابلين","البنيات"]
  },
  zarqa: {
     1: [
     "معصوم",
  "وادي الحجر",
  "مدينة الشرق",
  "الونك",
  "الزرقاء الجديدة",
  "شارع الكرامة",
  "شارع الفلاتر",
  "شارع السعادة",
  "شارع الأمير شاكر",
  "سوق باب المدينة",
  "دوار الخميس",
  "دوار GK",
  "حي رمزي",
  "حي الحسين",
  "حي الأمير محمد",
  "جبل طارق",
  "الغويرية",
  "الزواهرة",
  "Ma’soum",
  "Wadi Al-Hajar",
  "Madinat Al-Sharq",
  "Al-Wink Street",
  "New Zarqa",
  "Al-Karama Street",
  "Filters Street",
  "Al-Saada Street",
  "Prince Shaker Street",
  "Souk Bab Al-Madina",
  "Khamees Circle",
  "GK Circle",
  "Hay Ramzi",
  "Hay Al-Hussein",
  "Hay Prince Mohammed",
  "Jabal Tareq",
  "Al-Ghuwairiyah",
  "Al-Zawahra"
        ],
    2:["الرصيفة","ضاحية المدينة المنورة","شارع ياجوز","دويك","جبل فيصل","عوجان","المشرفة","إسكان الملك طلال","حي القدس","مخيم حطين","Russeifa",
  "Dahyet Almadinah Al Monawarah",
  "Yajouz Street",
  "Dweik",
  "Jabal Faisal",
  "Awajan",
  "Al-Masharifa",
  "King Talal Housing",
  "Hay Al Qadisia",
  "Hitteen Camp"],
  },
  irbid: {
    1:["دوار الثقافة","دوار القبة","دوار الجامعة","أرابيلا مول","إربد سيتي سنتر","الحي الشرقي","إربد مول","حوارة","مجمع عمان الجديد","الدرة","شارع بغداد","شارع بشرى"],
    2:["حنينا","الكرامة","المنارة","الهاشمي","البلد","الميدان","شارع الثلاثين","شارع الحكمة"],
    3:["الحصن","ايدون","الصريح"]
  }
};

// إنشاء الدوائر
for(let i=0;i<7;i++){
  const angle = (i/7)*Math.PI*2 - Math.PI/2;
  const x = centerX + Math.cos(angle)*radius;
  const y = centerY + Math.sin(angle)*radius;
  const div = document.createElement('div');
  div.className='group';
  div.id=`group${i+1}`;
  div.textContent=`Group ${i+1}`;
  div.style.left=`${x}px`;
  div.style.top=`${y}px`;
  stage.appendChild(div);
}

function highlightGroup(){
  const city = citySelect.value;
  const area = areaInput.value.trim().toLowerCase(); // تحويل المدخل للصغير

  document.querySelectorAll('.group').forEach(g=>g.classList.remove('active'));
  detailsBox.classList.remove('show');

  if(area){
    centerCircle.classList.add("typing");
  } else{
    centerCircle.classList.remove("typing");
  }

  if(!area || !data[city]) return;

  for(const [groupId, areas] of Object.entries(data[city])){
    if(areas.some(a => a.toLowerCase().includes(area))){ // تحويل كل اسم منطقة للصغير
      const g=document.getElementById(`group${groupId}`);
      g.classList.add("active");
      centerCircle.classList.remove("typing");
      
      detailsBox.style.top="50%";
      detailsBox.style.left=`${stage.getBoundingClientRect().left - 220}px`;
      detailsBox.innerHTML=`<strong>Group ${groupId}</strong>${areas.join("<br>")}`;
      detailsBox.classList.add("show");
      break;
    }
  }
}

areaInput.addEventListener("input",highlightGroup);
citySelect.addEventListener("change",highlightGroup);
</script>

</body>
</html>

